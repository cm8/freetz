--- hv_macro.h	2020-02-18 05:59:19.509786888 +0100
+++ hv_macro.h	2020-02-18 05:59:13.665853302 +0100
@@ -27,7 +27,11 @@
     #define U8TO64_LE(ptr)   (*((const U64*)(ptr)))
   #elif (BYTEORDER == 0x4321 || BYTEORDER == 0x87654321)
     #if defined(__GNUC__) && (__GNUC__>4 || (__GNUC__==4 && __GNUC_MINOR__>=3))
-      #define U8TO16_LE(ptr)   (__builtin_bswap16(*((U16*)(ptr))))
+      #if (__GNUC__==4 && __GNUC_MINOR__<8)
+        #define U8TO16_LE(ptr)   ((U32)(ptr)[0]|(U32)(ptr)[1]<<8)
+      #else
+        #define U8TO16_LE(ptr)   (__builtin_bswap16(*((U16*)(ptr))))
+      #endif
       #define U8TO32_LE(ptr)   (__builtin_bswap32(*((U32*)(ptr))))
       #define U8TO64_LE(ptr)   (__builtin_bswap64(*((U64*)(ptr))))
     #endif
